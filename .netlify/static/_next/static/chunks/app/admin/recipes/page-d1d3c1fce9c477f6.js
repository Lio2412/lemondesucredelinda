(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6856],{69:function(e,r,s){Promise.resolve().then(s.bind(s,81699)),Promise.resolve().then(s.t.bind(s,231,23))},81699:function(e,r,s){"use strict";s.d(r,{default:function(){return p}});var t=s(57437),i=s(2265),n=s(87138),c=s(16463),a=s(26975),d=s(94693),l=s(50495),o=s(6780),u=s(30311),h=s(18422),x=s(90399);function p(e){let{recipes:r}=e,s=(0,c.useRouter)(),[p,f]=(0,i.useState)(null),j=async e=>{f(e);try{if(!(await fetch("/api/recipes/".concat(e),{method:"DELETE"})).ok)throw Error("La suppression a \xe9chou\xe9");(0,u.Am)({title:"Succ\xe8s",description:"La recette a \xe9t\xe9 supprim\xe9e."}),s.refresh()}catch(e){console.error("Erreur lors de la suppression:",e),(0,u.Am)({title:"Erreur",description:"Impossible de supprimer la recette."})}finally{f(null)}};return(0,t.jsx)("div",{className:"rounded-md border",children:(0,t.jsxs)(a.iA,{children:[(0,t.jsx)(a.xD,{children:(0,t.jsxs)(a.SC,{children:[(0,t.jsx)(a.ss,{children:"Nom de la recette"}),(0,t.jsx)(a.ss,{children:"Date d’ajout"}),(0,t.jsx)(a.ss,{className:"text-center",children:"Nombre d’\xe9tapes"}),(0,t.jsx)(a.ss,{className:"text-right",children:"Actions"})]})}),(0,t.jsx)(a.RM,{children:r.map(e=>(0,t.jsxs)(a.SC,{children:[(0,t.jsx)(a.pj,{className:"font-medium",children:e.title}),(0,t.jsx)(a.pj,{children:new Date(e.createdAt).toLocaleDateString()}),(0,t.jsx)(a.pj,{className:"text-center",children:(0,t.jsx)(d.C,{variant:"secondary",children:e._count.steps})}),(0,t.jsxs)(a.pj,{className:"text-right space-x-2",children:[(0,t.jsx)(l.z,{variant:"outline",size:"icon",asChild:!0,children:(0,t.jsxs)(n.default,{href:"/admin/recipes/".concat(e.id,"/edit"),children:[(0,t.jsx)(h.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Modifier"})]})}),(0,t.jsxs)(o.aR,{children:[(0,t.jsx)(o.vW,{asChild:!0,children:(0,t.jsxs)(l.z,{variant:"destructive",size:"icon",disabled:p===e.id,children:[(0,t.jsx)(x.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Supprimer"})]})}),(0,t.jsxs)(o._T,{children:[(0,t.jsxs)(o.fY,{children:[(0,t.jsx)(o.f$,{children:"\xcates-vous s\xfbr ?"}),(0,t.jsx)(o.yT,{children:"Cette action est irr\xe9versible et supprimera d\xe9finitivement la recette."})]}),(0,t.jsxs)(o.xo,{children:[(0,t.jsx)(o.le,{disabled:p===e.id,children:"Annuler"}),(0,t.jsx)(o.OL,{onClick:()=>j(e.id),disabled:p===e.id,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:p===e.id?"Suppression...":"Supprimer"})]})]})]})]})]},e.id))})]})})}},94693:function(e,r,s){"use strict";s.d(r,{C:function(){return a}});var t=s(57437);s(2265);var i=s(13027),n=s(37440);let c=(0,i.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function a(e){let{className:r,variant:s,...i}=e;return(0,t.jsx)("div",{className:(0,n.cn)(c({variant:s}),r),...i})}}},function(e){e.O(0,[4868,231,6951,9332,5971,2971,7023,1744],function(){return e(e.s=69)}),_N_E=e.O()}]);
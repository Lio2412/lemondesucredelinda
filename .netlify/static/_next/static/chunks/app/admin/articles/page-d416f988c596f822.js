(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9985],{71718:function(e,r,s){Promise.resolve().then(s.bind(s,48963)),Promise.resolve().then(s.t.bind(s,231,23))},48963:function(e,r,s){"use strict";s.d(r,{default:function(){return f}});var i=s(57437),t=s(2265),n=s(87138),l=s(16463),a=s(26975),c=s(94693),d=s(50495),o=s(6780),u=s(30311),h=s(18422),x=s(90399);function f(e){let{articles:r}=e,s=(0,l.useRouter)(),{toast:f}=(0,u.pm)(),[p,j]=(0,t.useState)(null),m=async e=>{j(e);try{if(!(await fetch("/api/articles/".concat(e),{method:"DELETE"})).ok)throw Error("La suppression a \xe9chou\xe9");f({title:"Succ\xe8s",description:"L'article a \xe9t\xe9 supprim\xe9."}),s.refresh()}catch(e){console.error("Erreur lors de la suppression:",e),f({title:"Erreur",description:"Impossible de supprimer l'article."})}finally{j(null)}};return(0,i.jsx)("div",{className:"rounded-md border",children:(0,i.jsxs)(a.iA,{children:[(0,i.jsx)(a.xD,{children:(0,i.jsxs)(a.SC,{children:[(0,i.jsx)(a.ss,{children:"Titre"}),(0,i.jsx)(a.ss,{className:"hidden lg:table-cell",children:"Date"}),(0,i.jsx)(a.ss,{children:"Tags"}),(0,i.jsx)(a.ss,{className:"text-right",children:"Actions"})]})}),(0,i.jsx)(a.RM,{children:r.map(e=>{var r;return(0,i.jsxs)(a.SC,{children:[(0,i.jsx)(a.pj,{className:"font-medium",children:e.title}),(0,i.jsx)(a.pj,{className:"hidden lg:table-cell text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString("fr-FR")}),(0,i.jsx)(a.pj,{children:(0,i.jsx)("div",{className:"flex flex-wrap gap-1",children:null===(r=e.tags)||void 0===r?void 0:r.map(e=>(0,i.jsx)(c.C,{variant:"outline",children:e},e))})}),(0,i.jsxs)(a.pj,{className:"text-right",children:[(0,i.jsx)(d.z,{variant:"ghost",size:"icon",asChild:!0,className:"mr-2",children:(0,i.jsxs)(n.default,{href:"/admin/articles/".concat(e.id,"/edit"),children:[(0,i.jsx)(h.Z,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Modifier"})]})}),(0,i.jsxs)(o.aR,{children:[(0,i.jsx)(o.vW,{asChild:!0,children:(0,i.jsxs)(d.z,{variant:"destructive",size:"icon",disabled:p===e.id,children:[(0,i.jsx)(x.Z,{className:"h-4 w-4"}),(0,i.jsx)("span",{className:"sr-only",children:"Supprimer"})]})}),(0,i.jsxs)(o._T,{children:[(0,i.jsxs)(o.fY,{children:[(0,i.jsx)(o.f$,{children:"\xcates-vous s\xfbr ?"}),(0,i.jsxs)(o.yT,{children:["Cette action est irr\xe9versible et supprimera d\xe9finitivement l'article \"",e.title,'".']})]}),(0,i.jsxs)(o.xo,{children:[(0,i.jsx)(o.le,{disabled:p===e.id,children:"Annuler"}),(0,i.jsx)(o.OL,{onClick:()=>m(e.id),disabled:p===e.id,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:p===e.id?"Suppression...":"Supprimer"})]})]})]})]})]},e.id)})})]})})}},94693:function(e,r,s){"use strict";s.d(r,{C:function(){return a}});var i=s(57437);s(2265);var t=s(13027),n=s(37440);let l=(0,t.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function a(e){let{className:r,variant:s,...t}=e;return(0,i.jsx)("div",{className:(0,n.cn)(l({variant:s}),r),...t})}}},function(e){e.O(0,[4868,231,6951,9332,5971,2971,7023,1744],function(){return e(e.s=71718)}),_N_E=e.O()}]);
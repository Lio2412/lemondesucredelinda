"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1026],{72943:function(e,t,r){r.d(t,{RecipeForm:function(){return k}});var n=r(57437),i=r(2265),s=r(16463),a=r(31014),l=r(39343),o=r(59772),d=r(37440),c=r(50495),u=r(32653),m=r(83102),f=r(46294),p=r(93146),x=r(36013),g=r(64344),h=r(58184),v=r(10883);/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let j=(0,r(78030).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var y=r(66648),b=r(30311);let N=o.Ry({name:o.Z_().min(1,{message:"Le nom est requis."}),quantity:o.oQ.number().positive({message:"La quantit\xe9 doit \xeatre un nombre positif."}),unit:o.Z_().min(1,{message:"L'unit\xe9 est requise."})}),w=o.Ry({description:o.Z_().min(10,{message:"D\xe9crivez l'\xe9tape (min 10 caract\xe8res)."}),duration:o.oQ.number().int().positive().optional()}),S=o.Ry({title:o.Z_().min(3,{message:"Le titre doit contenir au moins 3 caract\xe8res."}),slug:o.Z_().min(3,{message:"Le slug doit contenir au moins 3 caract\xe8res."}).regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/,{message:"Slug invalide (lettres minuscules, chiffres, tirets)."}),description:o.Z_().optional(),difficulty:o.Z_().optional(),prepTime:o.oQ.number().int().nonnegative().optional(),cookTime:o.oQ.number().int().nonnegative().optional(),basePortions:o.oQ.number().int().positive({message:"Le nombre de portions doit \xeatre positif."}),category:o.Z_().optional(),image:o.G0([o.Z_().url().optional(),o.Yj().optional()]),ingredients:o.IX(N).min(1,{message:"Ajoutez au moins un ingr\xe9dient."}),steps:o.IX(w).min(1,{message:"Ajoutez au moins une \xe9tape."})}),I=[{value:"entremet",label:"Entremet"},{value:"tarte",label:"Tarte"},{value:"biscuit",label:"Biscuit"},{value:"gateau_voyage",label:"G\xe2teau de voyage"},{value:"viennoiserie",label:"Viennoiserie"},{value:"confiserie",label:"Confiserie"}],C={title:"",slug:"",description:"",difficulty:"",prepTime:void 0,cookTime:void 0,basePortions:4,category:"",image:void 0,ingredients:[{name:"",quantity:1,unit:""}],steps:[{description:"",duration:void 0}]};function k(e){var t,r,o,N,w,k,R,T,z,_;let{initialData:E=null,recipeId:Z}=e,D=(0,s.useRouter)(),[A,M]=(0,i.useState)("string"==typeof(null==E?void 0:E.image)?E.image:null),[O,F]=(0,i.useState)(!1),{toast:G}=(0,b.pm)(),P=(0,l.cI)({resolver:(0,a.F)(S),defaultValues:null!=E?E:C,mode:"onChange"}),{fields:J,append:V,remove:X}=(0,l.Dq)({control:P.control,name:"ingredients"}),{fields:W,append:q,remove:Q}=(0,l.Dq)({control:P.control,name:"steps"}),L=async e=>{let t;F(!0);let r=!!Z,n=e.image instanceof File?e.image:void 0,i="string"==typeof e.image?e.image:void 0,s={};if(n){let s=new FormData;s.append("title",e.title),s.append("slug",e.slug),e.description&&s.append("description",e.description),e.difficulty&&s.append("difficulty",e.difficulty),void 0!==e.prepTime&&s.append("prepTime",e.prepTime.toString()),void 0!==e.cookTime&&s.append("cookTime",e.cookTime.toString()),s.append("basePortions",e.basePortions.toString()),e.category&&s.append("category",e.category),s.append("ingredients",JSON.stringify(e.ingredients)),s.append("steps",JSON.stringify(e.steps)),s.append("image",n),r&&i&&s.append("currentImageUrl",i),t=s}else t=JSON.stringify({...e,image:i}),s["Content-Type"]="application/json";try{let e=await fetch(r?"/api/recipes/".concat(Z):"/api/recipes",{method:r?"PUT":"POST",headers:s,body:t});if(!e.ok){let t=await e.json();throw Error(t.error||"\xc9chec de la ".concat(Z?"mise \xe0 jour":"cr\xe9ation"))}Z&&e.ok?G({title:"Succ\xe8s",description:"âœ… Recette mise \xe0 jour avec succ\xe8s !"}):!Z&&e.ok&&G({title:"Succ\xe8s",description:"Recette enregistr\xe9e avec succ\xe8s."}),D.push("/admin/recipes"),D.refresh()}catch(e){console.error("Erreur lors de la soumission:",e),G({title:"Erreur",description:e instanceof Error?e.message:"Une erreur est survenue."})}finally{F(!1)}},U=P.control;return(0,n.jsx)(u.l0,{...P,children:(0,n.jsxs)("form",{onSubmit:P.handleSubmit(L),className:"space-y-8",children:[(0,n.jsxs)(x.Zb,{children:[(0,n.jsx)(x.Ol,{children:(0,n.jsx)(x.ll,{children:"Informations G\xe9n\xe9rales"})}),(0,n.jsxs)(x.aY,{className:"space-y-4",children:[(0,n.jsx)(u.Wi,{control:U,name:"title",render:e=>{let{field:t}=e;return(0,n.jsxs)(u.xJ,{children:[(0,n.jsx)(u.lX,{children:"Titre de la recette *"}),(0,n.jsx)(u.NI,{children:(0,n.jsx)(m.I,{placeholder:"Ex: Tarte aux pommes classique",...t})}),(0,n.jsx)(u.zG,{})]})}}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsx)(u.Wi,{control:U,name:"basePortions",render:e=>{var t;let{field:r}=e;return(0,n.jsxs)(u.xJ,{children:[(0,n.jsx)(u.lX,{children:"Nombre de portions *"}),(0,n.jsx)(u.NI,{children:(0,n.jsx)(m.I,{type:"number",min:"1",...r,onChange:e=>{let t=parseInt(e.target.value,10);r.onChange(isNaN(t)||t<1?1:t)},value:null!==(t=r.value)&&void 0!==t?t:""})}),(0,n.jsx)(u.zG,{})]})}}),(0,n.jsx)(u.Wi,{control:U,name:"category",render:e=>{let{field:t}=e;return(0,n.jsxs)(u.xJ,{children:[(0,n.jsx)(u.lX,{children:"Cat\xe9gorie *"}),(0,n.jsxs)(f.Ph,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,n.jsx)(u.NI,{children:(0,n.jsx)(f.i4,{children:(0,n.jsx)(f.ki,{placeholder:"S\xe9lectionner une cat\xe9gorie"})})}),(0,n.jsx)(f.Bw,{children:I.map(e=>(0,n.jsx)(f.Ql,{value:e.value,children:e.label},e.value))})]}),(0,n.jsx)(u.zG,{})]})}})]}),(0,n.jsx)(u.Wi,{control:U,name:"slug",render:e=>{let{field:t}=e;return(0,n.jsxs)(u.xJ,{children:[(0,n.jsx)(u.lX,{children:"Slug *"}),(0,n.jsx)(u.NI,{children:(0,n.jsx)(m.I,{placeholder:"Ex: tarte-aux-pommes-classique",...t})}),(0,n.jsx)(u.pf,{children:"Identifiant unique pour l'URL (minuscules, chiffres, tirets)."}),(0,n.jsx)(u.zG,{})]})}}),(0,n.jsx)(u.Wi,{control:U,name:"description",render:e=>{var t;let{field:r}=e;return(0,n.jsxs)(u.xJ,{children:[(0,n.jsx)(u.lX,{children:"Description"}),(0,n.jsx)(u.NI,{children:(0,n.jsx)(p.g,{placeholder:"D\xe9crivez bri\xe8vement la recette...",...r,value:null!==(t=r.value)&&void 0!==t?t:""})}),(0,n.jsx)(u.zG,{})]})}}),(0,n.jsxs)(u.xJ,{children:[(0,n.jsx)(u.lX,{children:"Image de la recette"}),(0,n.jsx)(u.NI,{children:(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(m.I,{id:"recipeImage",type:"file",accept:"image/*",onChange:e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){let e=new FileReader;e.onloadend=()=>{M(e.result)},e.readAsDataURL(r),P.setValue("image",r)}else M(null),P.setValue("image",void 0)},className:"hidden",disabled:O}),(0,n.jsxs)("label",{htmlFor:"recipeImage",className:(0,d.cn)("cursor-pointer inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50","border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2",O&&"opacity-50 cursor-not-allowed"),children:[(0,n.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),"Choisir une image"]}),A&&(0,n.jsx)("div",{className:"relative h-20 w-32 rounded border overflow-hidden",children:(0,n.jsx)(y.default,{src:A,alt:"Aper\xe7u recette",fill:!0,style:{objectFit:"cover"},className:"rounded"})}),!A&&"string"!=typeof(null==E?void 0:E.image)&&(0,n.jsx)("div",{className:"relative h-20 w-32 rounded border overflow-hidden bg-muted",children:(0,n.jsx)(y.default,{src:"/images/default-recipe.jpg",alt:"Image par d\xe9faut",fill:!0,style:{objectFit:"cover"},className:"rounded opacity-50"})})]})}),(0,n.jsx)(u.pf,{children:"Chargez une image pour votre recette."}),(0,n.jsx)(u.zG,{})]})]})]}),(0,n.jsx)(g.Separator,{}),(0,n.jsxs)(x.Zb,{children:[(0,n.jsx)(x.Ol,{children:(0,n.jsx)(x.ll,{children:"D\xe9tails de la Recette"})}),(0,n.jsxs)(x.aY,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,n.jsx)(u.Wi,{control:U,name:"difficulty",render:e=>{let{field:t}=e;return(0,n.jsxs)(u.xJ,{children:[(0,n.jsx)(u.lX,{children:"Difficult\xe9"}),(0,n.jsxs)(f.Ph,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,n.jsx)(u.NI,{children:(0,n.jsx)(f.i4,{children:(0,n.jsx)(f.ki,{placeholder:"S\xe9lectionner difficult\xe9"})})}),(0,n.jsxs)(f.Bw,{children:[(0,n.jsx)(f.Ql,{value:"Facile",children:"Facile"}),(0,n.jsx)(f.Ql,{value:"Moyen",children:"Moyen"}),(0,n.jsx)(f.Ql,{value:"Difficile",children:"Difficile"})]})]}),(0,n.jsx)(u.zG,{})]})}}),(0,n.jsx)(u.Wi,{control:U,name:"prepTime",render:e=>{var t;let{field:r}=e;return(0,n.jsxs)(u.xJ,{children:[(0,n.jsx)(u.lX,{children:"Temps de pr\xe9paration (min)"}),(0,n.jsx)(u.NI,{children:(0,n.jsx)(m.I,{type:"number",min:"0",placeholder:"Ex: 30",...r,value:null!==(t=r.value)&&void 0!==t?t:"",onChange:e=>r.onChange(""===e.target.value?void 0:parseInt(e.target.value,10)||0)})}),(0,n.jsx)(u.zG,{})]})}}),(0,n.jsx)(u.Wi,{control:U,name:"cookTime",render:e=>{var t;let{field:r}=e;return(0,n.jsxs)(u.xJ,{children:[(0,n.jsx)(u.lX,{children:"Temps de cuisson (min)"}),(0,n.jsx)(u.NI,{children:(0,n.jsx)(m.I,{type:"number",min:"0",placeholder:"Ex: 45",...r,value:null!==(t=r.value)&&void 0!==t?t:"",onChange:e=>r.onChange(""===e.target.value?void 0:parseInt(e.target.value,10)||0)})}),(0,n.jsx)(u.zG,{})]})}})]})]}),(0,n.jsx)(g.Separator,{}),(0,n.jsxs)(x.Zb,{children:[(0,n.jsx)(x.Ol,{children:(0,n.jsx)(x.ll,{children:"Ingr\xe9dients"})}),(0,n.jsxs)(x.aY,{children:[(0,n.jsx)("div",{className:"space-y-4",children:J.map((e,t)=>(0,n.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-start border p-4 rounded-md relative",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 flex-grow",children:[(0,n.jsx)(u.Wi,{control:U,name:"ingredients.".concat(t,".name"),render:e=>{let{field:t}=e;return(0,n.jsxs)(u.xJ,{children:[(0,n.jsx)(u.lX,{children:"Nom *"}),(0,n.jsx)(u.NI,{children:(0,n.jsx)(m.I,{placeholder:"Ex: Farine T55",...t})}),(0,n.jsx)(u.zG,{})]})}}),(0,n.jsx)(u.Wi,{control:U,name:"ingredients.".concat(t,".quantity"),render:e=>{var t;let{field:r}=e;return(0,n.jsxs)(u.xJ,{children:[(0,n.jsx)(u.lX,{children:"Quantit\xe9 *"}),(0,n.jsx)(u.NI,{children:(0,n.jsx)(m.I,{type:"number",step:"any",min:"0",placeholder:"Ex: 250",...r,value:null!==(t=r.value)&&void 0!==t?t:"",onChange:e=>r.onChange(""===e.target.value?void 0:parseFloat(e.target.value)||0)})}),(0,n.jsx)(u.zG,{})]})}}),(0,n.jsx)(u.Wi,{control:U,name:"ingredients.".concat(t,".unit"),render:e=>{let{field:t}=e;return(0,n.jsxs)(u.xJ,{children:[(0,n.jsx)(u.lX,{children:"Unit\xe9 *"}),(0,n.jsx)(u.NI,{children:(0,n.jsx)(m.I,{placeholder:"Ex: g",...t})}),(0,n.jsx)(u.zG,{})]})}})]}),(0,n.jsx)(c.z,{type:"button",variant:"ghost",size:"icon",onClick:()=>X(t),className:"mt-6 md:mt-0 flex-shrink-0","aria-label":"Supprimer l'ingr\xe9dient",children:(0,n.jsx)(v.Z,{className:"h-4 w-4 text-red-500"})})]},e.id))}),(0,n.jsxs)(c.z,{type:"button",variant:"outline",size:"sm",className:"mt-4",onClick:()=>V({name:"",quantity:1,unit:""}),children:[(0,n.jsx)(j,{className:"mr-2 h-4 w-4"})," Ajouter un ingr\xe9dient"]}),(null===(r=P.formState.errors.ingredients)||void 0===r?void 0:null===(t=r.root)||void 0===t?void 0:t.message)&&(0,n.jsx)("p",{className:"text-sm font-medium text-destructive mt-2",children:P.formState.errors.ingredients.root.message}),(null===(o=P.formState.errors.ingredients)||void 0===o?void 0:o.message)&&!(null===(w=P.formState.errors.ingredients)||void 0===w?void 0:null===(N=w.root)||void 0===N?void 0:N.message)&&(0,n.jsx)("p",{className:"text-sm font-medium text-destructive mt-2",children:P.formState.errors.ingredients.message})]})]}),(0,n.jsx)(g.Separator,{}),(0,n.jsxs)(x.Zb,{children:[(0,n.jsx)(x.Ol,{children:(0,n.jsx)(x.ll,{children:"\xc9tapes de pr\xe9paration"})}),(0,n.jsxs)(x.aY,{children:[(0,n.jsx)("div",{className:"space-y-6",children:W.map((e,t)=>(0,n.jsxs)("div",{className:"border p-4 rounded-md space-y-4 relative",children:[(0,n.jsxs)("div",{className:"flex justify-between items-start",children:[(0,n.jsxs)("h4",{className:"font-medium",children:["\xc9tape ",t+1]}),(0,n.jsx)(c.z,{type:"button",variant:"ghost",size:"icon",onClick:()=>Q(t),className:"absolute top-2 right-2","aria-label":"Supprimer l'\xe9tape",children:(0,n.jsx)(v.Z,{className:"h-4 w-4 text-red-500"})})]}),(0,n.jsx)(u.Wi,{control:U,name:"steps.".concat(t,".description"),render:e=>{let{field:t}=e;return(0,n.jsxs)(u.xJ,{children:[(0,n.jsx)(u.lX,{children:"Description *"}),(0,n.jsx)(u.NI,{children:(0,n.jsx)(p.g,{placeholder:"Ex: M\xe9langer la farine et le sucre...",...t})}),(0,n.jsx)(u.zG,{})]})}}),(0,n.jsx)(u.Wi,{control:U,name:"steps.".concat(t,".duration"),render:e=>{var t;let{field:r}=e;return(0,n.jsxs)(u.xJ,{children:[(0,n.jsx)(u.lX,{children:"Dur\xe9e (minutes, optionnel)"}),(0,n.jsx)(u.NI,{children:(0,n.jsx)(m.I,{type:"number",min:"1",placeholder:"Ex: 15",...r,value:null!==(t=r.value)&&void 0!==t?t:"",onChange:e=>r.onChange(""===e.target.value?void 0:parseInt(e.target.value,10)||void 0)})}),(0,n.jsx)(u.zG,{})]})}})]},e.id))}),(0,n.jsxs)(c.z,{type:"button",variant:"outline",size:"sm",className:"mt-4",onClick:()=>q({description:"",duration:void 0}),children:[(0,n.jsx)(j,{className:"mr-2 h-4 w-4"})," Ajouter une \xe9tape"]}),(null===(R=P.formState.errors.steps)||void 0===R?void 0:null===(k=R.root)||void 0===k?void 0:k.message)&&(0,n.jsx)("p",{className:"text-sm font-medium text-destructive mt-2",children:P.formState.errors.steps.root.message}),(null===(T=P.formState.errors.steps)||void 0===T?void 0:T.message)&&!(null===(_=P.formState.errors.steps)||void 0===_?void 0:null===(z=_.root)||void 0===z?void 0:z.message)&&(0,n.jsx)("p",{className:"text-sm font-medium text-destructive mt-2",children:P.formState.errors.steps.message})]})]}),(0,n.jsx)(g.Separator,{}),(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)(c.z,{type:"submit",disabled:P.formState.isSubmitting,children:O?Z?"Mise \xe0 jour...":"Enregistrement...":Z?"\uD83D\uDCBE Enregistrer les modifications":"Cr\xe9er la recette"})})]})})}},50495:function(e,t,r){r.d(t,{d:function(){return o},z:function(){return d}});var n=r(57437),i=r(2265),s=r(71538),a=r(13027),l=r(37440);let o=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef((e,t)=>{let{className:r,variant:i,size:a,asChild:d=!1,...c}=e,u=d?s.g7:"button";return(0,n.jsx)(u,{className:(0,l.cn)(o({variant:i,size:a,className:r})),ref:t,...c})});d.displayName="Button"},36013:function(e,t,r){r.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return a},aY:function(){return c},eW:function(){return u},ll:function(){return o}});var n=r(57437),i=r(2265),s=r(37440);let a=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...i})});a.displayName="Card";let l=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...i})});l.displayName="CardHeader";let o=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("h3",{ref:t,className:(0,s.cn)("text-lg font-semibold leading-none tracking-tight",r),...i})});o.displayName="CardTitle";let d=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...i})});d.displayName="CardDescription";let c=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...i})});c.displayName="CardContent";let u=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...i})});u.displayName="CardFooter"},32653:function(e,t,r){r.d(t,{NI:function(){return g},Wi:function(){return u},l0:function(){return d},lX:function(){return x},pf:function(){return h},xJ:function(){return p},zG:function(){return v}});var n=r(57437),i=r(2265),s=r(71538),a=r(39343),l=r(37440),o=r(67135);let d=a.RV,c=i.createContext({}),u=e=>{let{...t}=e;return(0,n.jsx)(c.Provider,{value:{name:t.name},children:(0,n.jsx)(a.Qr,{...t})})},m=()=>{let e=i.useContext(c),t=i.useContext(f),{getFieldState:r,formState:n}=(0,a.Gc)(),s=r(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...s}},f=i.createContext({}),p=i.forwardRef((e,t)=>{let{className:r,...s}=e,a=i.useId();return(0,n.jsx)(f.Provider,{value:{id:a},children:(0,n.jsx)("div",{ref:t,className:(0,l.cn)("space-y-2",r),...s})})});p.displayName="FormItem";let x=i.forwardRef((e,t)=>{let{className:r,...i}=e,{error:s,formItemId:a}=m();return(0,n.jsx)(o._,{ref:t,className:(0,l.cn)(s&&"text-destructive",r),htmlFor:a,...i})});x.displayName="FormLabel";let g=i.forwardRef((e,t)=>{let{...r}=e,{error:i,formItemId:a,formDescriptionId:l,formMessageId:o}=m();return(0,n.jsx)(s.g7,{ref:t,id:a,"aria-describedby":i?"".concat(l," ").concat(o):"".concat(l),"aria-invalid":!!i,...r})});g.displayName="FormControl";let h=i.forwardRef((e,t)=>{let{className:r,...i}=e,{formDescriptionId:s}=m();return(0,n.jsx)("p",{ref:t,id:s,className:(0,l.cn)("text-[0.8rem] text-muted-foreground",r),...i})});h.displayName="FormDescription";let v=i.forwardRef((e,t)=>{var r;let{className:i,children:s,...a}=e,{error:o,formMessageId:d}=m(),c=o?String(null!==(r=null==o?void 0:o.message)&&void 0!==r?r:""):s;return c?(0,n.jsx)("p",{ref:t,id:d,className:(0,l.cn)("text-[0.8rem] font-medium text-destructive",i),...a,children:c}):null});v.displayName="FormMessage"},83102:function(e,t,r){r.d(t,{I:function(){return a}});var n=r(57437),i=r(2265),s=r(37440);let a=i.forwardRef((e,t)=>{let{className:r,type:i,...a}=e;return(0,n.jsx)("input",{type:i,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...a})});a.displayName="Input"},67135:function(e,t,r){r.d(t,{_:function(){return d}});var n=r(57437),i=r(2265),s=r(38364),a=r(13027),l=r(37440);let o=(0,a.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(s.f,{ref:t,className:(0,l.cn)(o(),r),...i})});d.displayName=s.f.displayName},46294:function(e,t,r){r.d(t,{Bw:function(){return x},Ph:function(){return c},Ql:function(){return g},i4:function(){return m},ki:function(){return u}});var n=r(57437),i=r(2265),s=r(16291),a=r(42421),l=r(14392),o=r(22468),d=r(37440);let c=s.fC;s.ZA;let u=s.B4,m=i.forwardRef((e,t)=>{let{className:r,children:i,...l}=e;return(0,n.jsxs)(s.xz,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...l,children:[i,(0,n.jsx)(s.JO,{asChild:!0,children:(0,n.jsx)(a.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=s.xz.displayName;let f=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(s.u_,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...i,children:(0,n.jsx)(l.Z,{className:"h-4 w-4"})})});f.displayName=s.u_.displayName;let p=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(s.$G,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...i,children:(0,n.jsx)(a.Z,{className:"h-4 w-4"})})});p.displayName=s.$G.displayName;let x=i.forwardRef((e,t)=>{let{className:r,children:i,position:a="popper",...l}=e;return(0,n.jsx)(s.h_,{children:(0,n.jsxs)(s.VY,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:a,...l,children:[(0,n.jsx)(f,{}),(0,n.jsx)(s.l_,{className:(0,d.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:i}),(0,n.jsx)(p,{})]})})});x.displayName=s.VY.displayName,i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(s.__,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...i})}).displayName=s.__.displayName;let g=i.forwardRef((e,t)=>{let{className:r,children:i,...a}=e;return(0,n.jsxs)(s.ck,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...a,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(s.wU,{children:(0,n.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,n.jsx)(s.eT,{children:i})]})});g.displayName=s.ck.displayName,i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(s.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",r),...i})}).displayName=s.Z0.displayName},64344:function(e,t,r){r.d(t,{Separator:function(){return l}});var n=r(57437),i=r(2265),s=r(48484),a=r(37440);let l=i.forwardRef((e,t)=>{let{className:r,orientation:i="horizontal",decorative:l=!0,...o}=e;return(0,n.jsx)(s.f,{ref:t,decorative:l,orientation:i,className:(0,a.cn)("shrink-0 bg-border","horizontal"===i?"h-[1px] w-full":"h-full w-[1px]",r),...o})});l.displayName=s.f.displayName},93146:function(e,t,r){r.d(t,{g:function(){return a}});var n=r(57437),i=r(2265),s=r(37440);let a=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});a.displayName="Textarea"},30311:function(e,t,r){r.d(t,{Am:function(){return u},pm:function(){return m}});var n=r(2265);let i=0,s=new Map,a=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?a(r):e.toasts.forEach(e=>{a(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function c(e){d=l(d,e),o.forEach(e=>{e(d)})}function u(e){let{...t}=e,r=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),n=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||n()}}}),{id:r,dismiss:n,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function m(){let[e,t]=n.useState(d);return n.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},37440:function(e,t,r){r.d(t,{cn:function(){return s},p:function(){return a}});var n=r(44839),i=r(96164);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.m6)((0,n.W)(t))}function a(e){if(!e)return"";let t="string"==typeof e?new Date(e):e;if(isNaN(t.getTime()))return"";try{return t.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}catch(t){return console.error("Erreur lors du formatage de la date:",e,t),""}}},22468:function(e,t,r){r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(78030).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},10883:function(e,t,r){r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(78030).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},58184:function(e,t,r){r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(78030).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},66648:function(e,t,r){r.d(t,{default:function(){return i.a}});var n=r(55601),i=r.n(n)},55601:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return o},getImageProps:function(){return l}});let n=r(99920),i=r(80497),s=r(38173),a=n._(r(21241));function l(e){let{props:t}=(0,i.getImgProps)(e,{defaultLoader:a.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let o=s.Image},90976:function(e,t,r){r.d(t,{B:function(){return o}});var n=r(2265),i=r(98324),s=r(1584),a=r(71538),l=r(57437);function o(e){let t=e+"CollectionProvider",[r,o]=(0,i.b)(t),[d,c]=r(t,{collectionRef:{current:null},itemMap:new Map}),u=e=>{let{scope:t,children:r}=e,i=n.useRef(null),s=n.useRef(new Map).current;return(0,l.jsx)(d,{scope:t,itemMap:s,collectionRef:i,children:r})};u.displayName=t;let m=e+"CollectionSlot",f=n.forwardRef((e,t)=>{let{scope:r,children:n}=e,i=c(m,r),o=(0,s.e)(t,i.collectionRef);return(0,l.jsx)(a.g7,{ref:o,children:n})});f.displayName=m;let p=e+"CollectionItemSlot",x="data-radix-collection-item",g=n.forwardRef((e,t)=>{let{scope:r,children:i,...o}=e,d=n.useRef(null),u=(0,s.e)(t,d),m=c(p,r);return n.useEffect(()=>(m.itemMap.set(d,{ref:d,...o}),()=>void m.itemMap.delete(d))),(0,l.jsx)(a.g7,{[x]:"",ref:u,children:i})});return g.displayName=p,[{Provider:u,Slot:f,ItemSlot:g},function(t){let r=c(e+"CollectionConsumer",t);return n.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll("[".concat(x,"]")));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},o]}},87513:function(e,t,r){r.d(t,{gm:function(){return s}});var n=r(2265);r(57437);var i=n.createContext(void 0);function s(e){let t=n.useContext(i);return e||t||"ltr"}},48484:function(e,t,r){r.d(t,{f:function(){return d}});var n=r(2265),i=r(25171),s=r(57437),a="horizontal",l=["horizontal","vertical"],o=n.forwardRef((e,t)=>{let{decorative:r,orientation:n=a,...o}=e,d=l.includes(n)?n:a;return(0,s.jsx)(i.WV.div,{"data-orientation":d,...r?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...o,ref:t})});o.displayName="Separator";var d=o}}]);